{"ast":null,"code":"var _jsxFileName = \"/Users/antony.dobrenov/nodejs_projects/VolleyStats-WEB/frontend/src/components/teams/teamList.component.js\";\nimport React, { useState, useEffect } from \"react\";\nimport authHeader from \"../../services/auth-header\";\nimport TeamListView from \"./teamListView.component\";\nimport { getTeamsById } from \"../../actions/team\";\nimport axios from \"axios\";\nimport SimpleSelect from \"../players/dropdown\";\nexport function TeamsList(props) {\n  const [teamsLoaded, setTeamsLoaded] = useState(false);\n  const [teams, setTeams] = useState([]);\n  const [error, setError] = useState(null);\n  const logged = authHeader();\n  console.log(logged);\n\n  const setPeriodError = error => {\n    setError(error);\n    setTimeout(() => {\n      setError(null);\n    }, 4000);\n  };\n\n  const loadTeams = async () => {\n    try {\n      if (!teamsLoaded) {\n        setTeamsLoaded(true);\n        const config = {\n          headers: {\n            Authorization: `Bearer ${logged.token}`\n          }\n        };\n        const response = await axios.get(\"http://localhost:8080/api/user/\" + logged.id + \"/team\", config); // console.log(response);\n\n        console.log(response.data);\n        setTeams(response.data);\n      }\n    } catch (err) {\n      setPeriodError(err);\n      setTeamsLoaded(false);\n    }\n  };\n\n  const updateTeam = async player => {\n    console.log(player);\n\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${logged.token}`\n        }\n      };\n      const response = await axios.put(\"http://localhost:8080/api/user/\" + logged.id + \"/team/\" + teamId + \"/player/\" + player._id, player, config); // console.log(response);\n\n      console.log(response.data);\n    } catch (err) {\n      console.log(err.message);\n      setPeriodError(err);\n      setPlayersLoaded(false);\n    }\n  };\n\n  loadTeams();\n  return /*#__PURE__*/React.createElement(TeamListView, Object.assign({}, props, {\n    teams: teams,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 10\n    }\n  }));\n} // TeamListView.defaultProps = {\n//   teams: [\n//     {\n//       name: \"Modena\",\n//     },\n//     {\n//       name: \"Trento\",\n//     },\n//   ],\n// };","map":{"version":3,"sources":["/Users/antony.dobrenov/nodejs_projects/VolleyStats-WEB/frontend/src/components/teams/teamList.component.js"],"names":["React","useState","useEffect","authHeader","TeamListView","getTeamsById","axios","SimpleSelect","TeamsList","props","teamsLoaded","setTeamsLoaded","teams","setTeams","error","setError","logged","console","log","setPeriodError","setTimeout","loadTeams","config","headers","Authorization","token","response","get","id","data","err","updateTeam","player","put","teamId","_id","message","setPlayersLoaded"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,SAASC,YAAT,QAA6B,oBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AAEA,OAAO,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAC/B,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,IAAD,CAAlC;AAEA,QAAMe,MAAM,GAAGb,UAAU,EAAzB;AACAc,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AAEA,QAAMG,cAAc,GAAIL,KAAD,IAAW;AAChCC,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACAM,IAAAA,UAAU,CAAC,MAAM;AACfL,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GALD;;AAMA,QAAMM,SAAS,GAAG,YAAY;AAC5B,QAAI;AACF,UAAI,CAACX,WAAL,EAAkB;AAChBC,QAAAA,cAAc,CAAC,IAAD,CAAd;AACA,cAAMW,MAAM,GAAG;AACbC,UAAAA,OAAO,EAAE;AAAEC,YAAAA,aAAa,EAAG,UAASR,MAAM,CAACS,KAAM;AAAxC;AADI,SAAf;AAGA,cAAMC,QAAQ,GAAG,MAAMpB,KAAK,CAACqB,GAAN,CACrB,oCAAoCX,MAAM,CAACY,EAA3C,GAAgD,OAD3B,EAErBN,MAFqB,CAAvB,CALgB,CAShB;;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAQ,CAACG,IAArB;AACAhB,QAAAA,QAAQ,CAACa,QAAQ,CAACG,IAAV,CAAR;AACD;AACF,KAdD,CAcE,OAAOC,GAAP,EAAY;AACZX,MAAAA,cAAc,CAACW,GAAD,CAAd;AACAnB,MAAAA,cAAc,CAAC,KAAD,CAAd;AACD;AACF,GAnBD;;AAoBA,QAAMoB,UAAU,GAAG,MAAOC,MAAP,IAAkB;AACnCf,IAAAA,OAAO,CAACC,GAAR,CAAYc,MAAZ;;AACA,QAAI;AACF,YAAMV,MAAM,GAAG;AACbC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAG,UAASR,MAAM,CAACS,KAAM;AAAxC;AADI,OAAf;AAIA,YAAMC,QAAQ,GAAG,MAAMpB,KAAK,CAAC2B,GAAN,CACrB,oCACEjB,MAAM,CAACY,EADT,GAEE,QAFF,GAGEM,MAHF,GAIE,UAJF,GAKEF,MAAM,CAACG,GANY,EAOrBH,MAPqB,EAQrBV,MARqB,CAAvB,CALE,CAeF;;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAQ,CAACG,IAArB;AACD,KAjBD,CAiBE,OAAOC,GAAP,EAAY;AACZb,MAAAA,OAAO,CAACC,GAAR,CAAYY,GAAG,CAACM,OAAhB;AACAjB,MAAAA,cAAc,CAACW,GAAD,CAAd;AACAO,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD;AACF,GAxBD;;AAyBAhB,EAAAA,SAAS;AAET,sBAAO,oBAAC,YAAD,oBAAkBZ,KAAlB;AAAyB,IAAA,KAAK,EAAEG,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport authHeader from \"../../services/auth-header\";\nimport TeamListView from \"./teamListView.component\";\nimport { getTeamsById } from \"../../actions/team\";\nimport axios from \"axios\";\nimport SimpleSelect from \"../players/dropdown\";\n\nexport function TeamsList(props) {\n  const [teamsLoaded, setTeamsLoaded] = useState(false);\n  const [teams, setTeams] = useState([]);\n  const [error, setError] = useState(null);\n\n  const logged = authHeader();\n  console.log(logged);\n\n  const setPeriodError = (error) => {\n    setError(error);\n    setTimeout(() => {\n      setError(null);\n    }, 4000);\n  };\n  const loadTeams = async () => {\n    try {\n      if (!teamsLoaded) {\n        setTeamsLoaded(true);\n        const config = {\n          headers: { Authorization: `Bearer ${logged.token}` },\n        };\n        const response = await axios.get(\n          \"http://localhost:8080/api/user/\" + logged.id + \"/team\",\n          config\n        );\n        // console.log(response);\n        console.log(response.data);\n        setTeams(response.data);\n      }\n    } catch (err) {\n      setPeriodError(err);\n      setTeamsLoaded(false);\n    }\n  };\n  const updateTeam = async (player) => {\n    console.log(player);\n    try {\n      const config = {\n        headers: { Authorization: `Bearer ${logged.token}` },\n      };\n\n      const response = await axios.put(\n        \"http://localhost:8080/api/user/\" +\n          logged.id +\n          \"/team/\" +\n          teamId +\n          \"/player/\" +\n          player._id,\n        player,\n        config\n      );\n      // console.log(response);\n      console.log(response.data);\n    } catch (err) {\n      console.log(err.message);\n      setPeriodError(err);\n      setPlayersLoaded(false);\n    }\n  };\n  loadTeams();\n\n  return <TeamListView {...props} teams={teams} />;\n}\n\n// TeamListView.defaultProps = {\n//   teams: [\n//     {\n//       name: \"Modena\",\n//     },\n//     {\n//       name: \"Trento\",\n//     },\n//   ],\n// };\n"]},"metadata":{},"sourceType":"module"}