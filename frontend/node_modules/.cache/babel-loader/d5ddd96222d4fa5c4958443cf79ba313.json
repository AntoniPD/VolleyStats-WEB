{"ast":null,"code":"var _jsxFileName = \"/Users/antony.dobrenov/nodejs_projects/VolleyStats-WEB/frontend/src/components/players/playersList.component.js\";\nimport React, { useState, useEffect } from \"react\";\nimport authHeader from \"../../services/auth-header\";\nimport PlayersListView from \"./playersListView.component\";\nimport { getPlayersByTeamId } from \"../../actions/player\";\nimport axios from \"axios\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport { matchPath } from \"react-router\";\nimport Button from \"../button.component\";\nimport { Link } from \"react-router-dom\";\nexport function PlayersList(props) {\n  //   const test = useParams();\n  //   console.log(test);\n  const location = useLocation();\n  console.log(location);\n  const match = matchPath(location.pathname, {\n    path: \"/team/:teamId/info\",\n    exact: true,\n    strict: false\n  });\n  const teamId = match.params.teamId;\n  localStorage.setItem(\"teamId\", JSON.stringify(teamId));\n  const [playersLoaded, setPlayersLoaded] = useState(false);\n  const [players, setPlayers] = useState([]);\n  const [error, setError] = useState(null);\n  const logged = authHeader(); //   console.log(logged);\n\n  const setPeriodError = error => {\n    setError(error);\n    setTimeout(() => {\n      setError(null);\n    }, 4000);\n  };\n\n  const loadPlayers = async () => {\n    try {\n      if (!playersLoaded) {\n        setPlayersLoaded(true);\n        const config = {\n          headers: {\n            Authorization: `Bearer ${logged.token}`\n          }\n        };\n        const response = await axios.get(\"http://localhost:8080/api/user/\" + logged.id + \"/team/\" + teamId + \"/player\", config); // console.log(response);\n\n        console.log(response.data);\n        setPlayers(response.data);\n      }\n    } catch (err) {\n      setError(err);\n      setPlayersLoaded(false);\n    }\n  };\n\n  const updatePlayer = async player => {\n    console.log(player);\n\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${logged.token}`\n        }\n      };\n      const response = await axios.put(\"http://localhost:8080/api/user/\" + logged.id + \"/team/\" + teamId + \"/player/\" + player._id, player, config); // console.log(response);\n\n      console.log(response.data);\n    } catch (err) {\n      console.log(err.message);\n      setPeriodError(err);\n      setPlayersLoaded(false);\n    }\n  };\n\n  loadPlayers();\n  return error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, error.message) : [/*#__PURE__*/React.createElement(Link, {\n    to: `/profile`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    variant: \"contai`ned\",\n    type: \"submit\",\n    \"data-testid\": \"sign-up-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Start Match\")), /*#__PURE__*/React.createElement(PlayersListView, Object.assign({}, props, {\n    teamId: teamId,\n    players: players,\n    onUpdatePlayer: updatePlayer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }))];\n} // TeamListView.defaultProps = {\n//   teams: [\n//     {\n//       name: \"Modena\",\n//     },\n//     {\n//       name: \"Trento\",\n//     },\n//   ],\n// };\n// return (\n//     <div>\n//         <div onClick={() => addToCart(rowIndex)}>\n//             <img src={plus} style={{backgroundColor: '#2a4252'}}/>\n//         </div>\n//         <div id='text-val'> {formatExtraData} </div>\n//         <div onClick={() => removeFromCart(rowIndex)}>\n//             <img src={minus} style={{backgroundColor: '#2a4252'}}/>\n//         </div>\n//     </div>\n// );","map":{"version":3,"sources":["/Users/antony.dobrenov/nodejs_projects/VolleyStats-WEB/frontend/src/components/players/playersList.component.js"],"names":["React","useState","useEffect","authHeader","PlayersListView","getPlayersByTeamId","axios","useParams","useLocation","matchPath","Button","Link","PlayersList","props","location","console","log","match","pathname","path","exact","strict","teamId","params","localStorage","setItem","JSON","stringify","playersLoaded","setPlayersLoaded","players","setPlayers","error","setError","logged","setPeriodError","setTimeout","loadPlayers","config","headers","Authorization","token","response","get","id","data","err","updatePlayer","player","put","_id","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,kBAAvC;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACjC;AACA;AACA,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,QAAMG,KAAK,GAAGR,SAAS,CAACK,QAAQ,CAACI,QAAV,EAAoB;AACzCC,IAAAA,IAAI,EAAE,oBADmC;AAEzCC,IAAAA,KAAK,EAAE,IAFkC;AAGzCC,IAAAA,MAAM,EAAE;AAHiC,GAApB,CAAvB;AAKA,QAAMC,MAAM,GAAGL,KAAK,CAACM,MAAN,CAAaD,MAA5B;AACAE,EAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BC,IAAI,CAACC,SAAL,CAAeL,MAAf,CAA/B;AAEA,QAAM,CAACM,aAAD,EAAgBC,gBAAhB,IAAoC5B,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAAC6B,OAAD,EAAUC,UAAV,IAAwB9B,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAAC+B,KAAD,EAAQC,QAAR,IAAoBhC,QAAQ,CAAC,IAAD,CAAlC;AAEA,QAAMiC,MAAM,GAAG/B,UAAU,EAAzB,CAjBiC,CAkBjC;;AAEA,QAAMgC,cAAc,GAAIH,KAAD,IAAW;AAChCC,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACAI,IAAAA,UAAU,CAAC,MAAM;AACfH,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GALD;;AAMA,QAAMI,WAAW,GAAG,YAAY;AAC9B,QAAI;AACF,UAAI,CAACT,aAAL,EAAoB;AAClBC,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACA,cAAMS,MAAM,GAAG;AACbC,UAAAA,OAAO,EAAE;AAAEC,YAAAA,aAAa,EAAG,UAASN,MAAM,CAACO,KAAM;AAAxC;AADI,SAAf;AAGA,cAAMC,QAAQ,GAAG,MAAMpC,KAAK,CAACqC,GAAN,CACrB,oCACET,MAAM,CAACU,EADT,GAEE,QAFF,GAGEtB,MAHF,GAIE,SALmB,EAMrBgB,MANqB,CAAvB,CALkB,CAalB;;AACAvB,QAAAA,OAAO,CAACC,GAAR,CAAY0B,QAAQ,CAACG,IAArB;AACAd,QAAAA,UAAU,CAACW,QAAQ,CAACG,IAAV,CAAV;AACD;AACF,KAlBD,CAkBE,OAAOC,GAAP,EAAY;AACZb,MAAAA,QAAQ,CAACa,GAAD,CAAR;AACAjB,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD;AACF,GAvBD;;AAwBA,QAAMkB,YAAY,GAAG,MAAOC,MAAP,IAAkB;AACrCjC,IAAAA,OAAO,CAACC,GAAR,CAAYgC,MAAZ;;AACA,QAAI;AACF,YAAMV,MAAM,GAAG;AACbC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAG,UAASN,MAAM,CAACO,KAAM;AAAxC;AADI,OAAf;AAIA,YAAMC,QAAQ,GAAG,MAAMpC,KAAK,CAAC2C,GAAN,CACrB,oCACEf,MAAM,CAACU,EADT,GAEE,QAFF,GAGEtB,MAHF,GAIE,UAJF,GAKE0B,MAAM,CAACE,GANY,EAOrBF,MAPqB,EAQrBV,MARqB,CAAvB,CALE,CAeF;;AACAvB,MAAAA,OAAO,CAACC,GAAR,CAAY0B,QAAQ,CAACG,IAArB;AACD,KAjBD,CAiBE,OAAOC,GAAP,EAAY;AACZ/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAG,CAACK,OAAhB;AACAhB,MAAAA,cAAc,CAACW,GAAD,CAAd;AACAjB,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD;AACF,GAxBD;;AAyBAQ,EAAAA,WAAW;AAEX,SAAOL,KAAK,gBACV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMA,KAAK,CAACmB,OAAZ,CADU,GAGV,cACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,OAAO,EAAC,YAFV;AAGE,IAAA,IAAI,EAAC,QAHP;AAIE,mBAAY,gBAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADF,eAWE,oBAAC,eAAD,oBACMtC,KADN;AAEE,IAAA,MAAM,EAAES,MAFV;AAGE,IAAA,OAAO,EAAEQ,OAHX;AAIE,IAAA,cAAc,EAAEiB,YAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAXF,CAHF;AAsBD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport authHeader from \"../../services/auth-header\";\nimport PlayersListView from \"./playersListView.component\";\nimport { getPlayersByTeamId } from \"../../actions/player\";\nimport axios from \"axios\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport { matchPath } from \"react-router\";\nimport Button from \"../button.component\";\nimport { Link } from \"react-router-dom\";\nexport function PlayersList(props) {\n  //   const test = useParams();\n  //   console.log(test);\n  const location = useLocation();\n  console.log(location);\n  const match = matchPath(location.pathname, {\n    path: \"/team/:teamId/info\",\n    exact: true,\n    strict: false,\n  });\n  const teamId = match.params.teamId;\n  localStorage.setItem(\"teamId\", JSON.stringify(teamId));\n\n  const [playersLoaded, setPlayersLoaded] = useState(false);\n  const [players, setPlayers] = useState([]);\n  const [error, setError] = useState(null);\n\n  const logged = authHeader();\n  //   console.log(logged);\n\n  const setPeriodError = (error) => {\n    setError(error);\n    setTimeout(() => {\n      setError(null);\n    }, 4000);\n  };\n  const loadPlayers = async () => {\n    try {\n      if (!playersLoaded) {\n        setPlayersLoaded(true);\n        const config = {\n          headers: { Authorization: `Bearer ${logged.token}` },\n        };\n        const response = await axios.get(\n          \"http://localhost:8080/api/user/\" +\n            logged.id +\n            \"/team/\" +\n            teamId +\n            \"/player\",\n          config\n        );\n        // console.log(response);\n        console.log(response.data);\n        setPlayers(response.data);\n      }\n    } catch (err) {\n      setError(err);\n      setPlayersLoaded(false);\n    }\n  };\n  const updatePlayer = async (player) => {\n    console.log(player);\n    try {\n      const config = {\n        headers: { Authorization: `Bearer ${logged.token}` },\n      };\n\n      const response = await axios.put(\n        \"http://localhost:8080/api/user/\" +\n          logged.id +\n          \"/team/\" +\n          teamId +\n          \"/player/\" +\n          player._id,\n        player,\n        config\n      );\n      // console.log(response);\n      console.log(response.data);\n    } catch (err) {\n      console.log(err.message);\n      setPeriodError(err);\n      setPlayersLoaded(false);\n    }\n  };\n  loadPlayers();\n\n  return error ? (\n    <div>{error.message}</div>\n  ) : (\n    [\n      <Link to={`/profile`}>\n        <Button\n          color=\"primary\"\n          variant=\"contai`ned\"\n          type=\"submit\"\n          data-testid=\"sign-up-button\"\n        >\n          Start Match\n        </Button>\n      </Link>,\n      <PlayersListView\n        {...props}\n        teamId={teamId}\n        players={players}\n        onUpdatePlayer={updatePlayer}\n      />,\n    ]\n  );\n}\n\n// TeamListView.defaultProps = {\n//   teams: [\n//     {\n//       name: \"Modena\",\n//     },\n//     {\n//       name: \"Trento\",\n//     },\n//   ],\n// };\n\n// return (\n//     <div>\n//         <div onClick={() => addToCart(rowIndex)}>\n//             <img src={plus} style={{backgroundColor: '#2a4252'}}/>\n//         </div>\n//         <div id='text-val'> {formatExtraData} </div>\n//         <div onClick={() => removeFromCart(rowIndex)}>\n//             <img src={minus} style={{backgroundColor: '#2a4252'}}/>\n//         </div>\n//     </div>\n// );\n"]},"metadata":{},"sourceType":"module"}