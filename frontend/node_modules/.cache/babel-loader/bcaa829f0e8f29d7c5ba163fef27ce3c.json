{"ast":null,"code":"var _jsxFileName = \"/Users/antony.dobrenov/nodejs_projects/VolleyStats-WEB/frontend/src/components/players/playersList.component.js\";\nimport React, { useState, useEffect } from \"react\";\nimport authHeader from \"../../services/auth-header\";\nimport PlayersListView from \"./playersListView.component\";\nimport { getPlayersByTeamId } from \"../../actions/player\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nexport function PlayersList(props) {\n  const test = useParams();\n  console.log(test);\n  const match = matchPath(\"/users/123\", {\n    path: \"/users/:teamId\",\n    exact: true,\n    strict: false\n  });\n  console.log(match);\n  const [playersLoaded, setPlayersLoaded] = useState(false);\n  const [players, setPlayers] = useState([]);\n  const [error, setError] = useState(null);\n  const logged = authHeader(); //   console.log(logged);\n\n  const setPeriodError = error => {\n    setError(error);\n    setTimeout(() => {\n      setError(null);\n    }, 4000);\n  };\n\n  const loadPlayers = async () => {\n    try {\n      if (!playersLoaded) {\n        setPlayersLoaded(true);\n        const config = {\n          headers: {\n            Authorization: `Bearer ${logged.token}`\n          }\n        };\n        const response = await axios.get(\"http://localhost:8080/api/user/\" + logged.id + \"/team/\" + \"123\" + \"/player\", config); // console.log(response);\n\n        console.log(response.data);\n        setPlayers(response.data);\n      }\n    } catch (err) {\n      setPeriodError(err);\n      setPlayersLoaded(false);\n    }\n  };\n\n  loadPlayers();\n  return /*#__PURE__*/React.createElement(PlayersListView, Object.assign({}, props, {\n    players: players,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 10\n    }\n  }));\n} // TeamListView.defaultProps = {\n//   teams: [\n//     {\n//       name: \"Modena\",\n//     },\n//     {\n//       name: \"Trento\",\n//     },\n//   ],\n// };","map":{"version":3,"sources":["/Users/antony.dobrenov/nodejs_projects/VolleyStats-WEB/frontend/src/components/players/playersList.component.js"],"names":["React","useState","useEffect","authHeader","PlayersListView","getPlayersByTeamId","axios","useParams","PlayersList","props","test","console","log","match","matchPath","path","exact","strict","playersLoaded","setPlayersLoaded","players","setPlayers","error","setError","logged","setPeriodError","setTimeout","loadPlayers","config","headers","Authorization","token","response","get","id","data","err"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAEA,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACjC,QAAMC,IAAI,GAAGH,SAAS,EAAtB;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAEA,QAAMG,KAAK,GAAGC,SAAS,CAAC,YAAD,EAAe;AACpCC,IAAAA,IAAI,EAAE,gBAD8B;AAEpCC,IAAAA,KAAK,EAAE,IAF6B;AAGpCC,IAAAA,MAAM,EAAE;AAH4B,GAAf,CAAvB;AAMAN,EAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AAEA,QAAM,CAACK,aAAD,EAAgBC,gBAAhB,IAAoClB,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACmB,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,IAAD,CAAlC;AAEA,QAAMuB,MAAM,GAAGrB,UAAU,EAAzB,CAhBiC,CAiBjC;;AAEA,QAAMsB,cAAc,GAAIH,KAAD,IAAW;AAChCC,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACAI,IAAAA,UAAU,CAAC,MAAM;AACfH,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GALD;;AAMA,QAAMI,WAAW,GAAG,YAAY;AAC9B,QAAI;AACF,UAAI,CAACT,aAAL,EAAoB;AAClBC,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACA,cAAMS,MAAM,GAAG;AACbC,UAAAA,OAAO,EAAE;AAAEC,YAAAA,aAAa,EAAG,UAASN,MAAM,CAACO,KAAM;AAAxC;AADI,SAAf;AAGA,cAAMC,QAAQ,GAAG,MAAM1B,KAAK,CAAC2B,GAAN,CACrB,oCACET,MAAM,CAACU,EADT,GAEE,QAFF,GAGE,KAHF,GAIE,SALmB,EAMrBN,MANqB,CAAvB,CALkB,CAalB;;AACAjB,QAAAA,OAAO,CAACC,GAAR,CAAYoB,QAAQ,CAACG,IAArB;AACAd,QAAAA,UAAU,CAACW,QAAQ,CAACG,IAAV,CAAV;AACD;AACF,KAlBD,CAkBE,OAAOC,GAAP,EAAY;AACZX,MAAAA,cAAc,CAACW,GAAD,CAAd;AACAjB,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD;AACF,GAvBD;;AAwBAQ,EAAAA,WAAW;AAEX,sBAAO,oBAAC,eAAD,oBAAqBlB,KAArB;AAA4B,IAAA,OAAO,EAAEW,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport authHeader from \"../../services/auth-header\";\nimport PlayersListView from \"./playersListView.component\";\nimport { getPlayersByTeamId } from \"../../actions/player\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\n\nexport function PlayersList(props) {\n  const test = useParams();\n  console.log(test);\n\n  const match = matchPath(\"/users/123\", {\n    path: \"/users/:teamId\",\n    exact: true,\n    strict: false,\n  });\n\n  console.log(match);\n\n  const [playersLoaded, setPlayersLoaded] = useState(false);\n  const [players, setPlayers] = useState([]);\n  const [error, setError] = useState(null);\n\n  const logged = authHeader();\n  //   console.log(logged);\n\n  const setPeriodError = (error) => {\n    setError(error);\n    setTimeout(() => {\n      setError(null);\n    }, 4000);\n  };\n  const loadPlayers = async () => {\n    try {\n      if (!playersLoaded) {\n        setPlayersLoaded(true);\n        const config = {\n          headers: { Authorization: `Bearer ${logged.token}` },\n        };\n        const response = await axios.get(\n          \"http://localhost:8080/api/user/\" +\n            logged.id +\n            \"/team/\" +\n            \"123\" +\n            \"/player\",\n          config\n        );\n        // console.log(response);\n        console.log(response.data);\n        setPlayers(response.data);\n      }\n    } catch (err) {\n      setPeriodError(err);\n      setPlayersLoaded(false);\n    }\n  };\n  loadPlayers();\n\n  return <PlayersListView {...props} players={players} />;\n}\n\n// TeamListView.defaultProps = {\n//   teams: [\n//     {\n//       name: \"Modena\",\n//     },\n//     {\n//       name: \"Trento\",\n//     },\n//   ],\n// };\n"]},"metadata":{},"sourceType":"module"}